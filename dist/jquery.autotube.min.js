/*! jquery.autotube - v1.0.0 - 2015-09-13
* https://github.com/CarlRaymond/jquery.autotube
* Copyright (c) 2015 ; Licensed GPLv2 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b=/^https?:\/\/(www\.)?youtube.com\/watch\?v=([^?&]+)/i,c=/^https?:\/\/(www\.)?youtube.com\/v\/([^\/\?]+)/i,d=/^https?:\/\/youtu.be\/([^\/]+)/i,e=/^https?:\/\/(www\.)?youtube.com\/embed\/([^\/]+)/i;a.expr[":"].youtube=function(a){var f=a.href;return f?null!=f.match(b)||null!=f.match(c)||null!=f.match(d)||null!=f.match(e):!1};var f=a.Deferred();window.onYouTubeIframeAPIReady=function(){f.resolve()};var g=function(a,b,c){b.parent().append(c)},h=function(b){a("body").append(b)},i=function(a){var f=a.href.match(b);return null!=f?f[2]:(f=a.href.match(c),null!=f?f[2]:(f=a.href.match(d),null!=f?f[1]:(f=a.href.match(e),null!=f?f[2]:void 0)))},j={},k=function(b,c){var d,e=/^[A-Za-z][A-Za-z0-9.:_-]*$/,f=/^\/.*/;if(e.test(b)){if(d=j[b])return d;var g=a("#"+b);if(0===g.length)throw'Template not found: "'+b+'"';d=l(g.html()),j[b]=d}else f.test(b)||(d=l(b));return c?d(c):d},l=function(a){return new Function("obj","var p=[], print=function() { p.push.apply(p, arguments); };with(obj) { p.push('"+a.replace(/[\r\t\n]/g," ").split("{{").join("	").replace(/((^|}})[^\t]*)'/g,"$1\r").replace(/\t=(.*?)}}/g,"',$1,'").split("	").join("');").split("}}").join("p.push('").split("\r").join("\\'")+"');} return p.join('');")},m={calloutTemplate:"video-callout-template",playerTemplate:"video-player-template",calloutImageFilename:"default.jpg",calloutCallback:g,playerCallback:h},n=function(b){var c=a.extend({},m,b);return 0!==this.filter(function(){return a(this).data("autotube")}).length&&a.error("Autotube already applied to a selected element"),c.calloutRenderer=c.calloutRenderer||k(c.calloutTemplate),c.playerRenderer=c.playerRenderer||k(c.playerTemplate),this.each(function(b){var d=a(this),e=i(this),f=d.data("title")||d.text(),g={videoId:e,posterId:"video-poster-"+b,playerId:"video-player-"+b,iframeId:"video-iframe-"+b,posterUrl:"https://img.youtube.com/vi/"+e+"/"+c.calloutImageFilename,title:f},h=c.calloutRenderer(g),j=a(h);c.calloutCallback(g,d,j),d.data("autotube",{settings:c,info:g})}),c};a.fn.autotube=function(a){if(o[a])return o[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!=typeof a&&a)throw"Method "+a+" does not exist on jQuery.autotube";return o.init.apply(this,arguments)};var o={init:n};a.autotube={videoId:i,template:k}});