/*! jquery.autotube - v1.0.0 - 2016-09-03
* https://github.com/CarlRaymond/jquery.autotube
* Copyright (c) 2016 ; Licensed GPLv2 */
!function(a){"use strict";"object"==typeof module&&"object"==typeof module.exports?a(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b={part:"snippet,contentDetails",datakey:"youtube"},c="https://www.googleapis.com/youtube/v3/videos",d=/^https?:\/\/(www\.)?youtube.com\/watch\?v=([^?&]+)/i,e=/^https?:\/\/(www\.)?youtube.com\/v\/([^\/\?]+)/i,f=/^https?:\/\/youtu.be\/([^\/]+)/i,g=/^https?:\/\/(www\.)?youtube.com\/embed\/([^\/]+)/i;a.expr[":"].youtube=function(b){var c=b.href;if(!c)return!1;var h="videoId",i=c.match(d);return null!=i?(a(b).data(h,i[2]),!0):(i=c.match(e),null!=i?(a(b).data(h,i[2]),!0):(i=c.match(f),null!=i?(a(b).data(h,i[1]),!0):(i=c.match(g),null!=i?(a(b).data(h,i[2]),!0):!1)))};var h=new TemplateEngine,i=function(a){var b=a.href.match(d);return null!=b?b[2]:(b=a.href.match(e),null!=b?b[2]:(b=a.href.match(f),null!=b?b[1]:(b=a.href.match(g),null!=b?b[2]:void 0)))},j={appendToParent:function(b){a(this).parent().append(b)},appendToLink:function(b){a(this).append(b)},replaceLink:function(b){a(this).replaceWith(b)}},k=function(b,d){var e=[];b.each(function(b){var c=a(this).data("videoId");c||(c=i(this),a(this).data("videoId",c)),e.push(c)});var f={id:e.join(","),part:d.part,key:d.apikey};return def=a.get(c,f),def.done(function(c){b.each(function(b){var e=c.items[b],f=new Iso8601(e.contentDetails.duration);e.autotube={duration:f.toDisplay()},a(this).data(d.datakey,e)})}),def},l=function(c,d){var e=this,f=a.extend({},b,c);return k(e,f).done(function(){d&&e.each(function(){var b=a(this).data(f.datakey);d.call(this,b)})}),e},m=function(c,d){var e=this,f=a.extend({},b,c),g=h.template(f.templatespec),i=k(e,f);a.when(g,i).done(function(b,c){e.each(function(){var c=a(this).data(f.datakey),e=b(c),g=a(e);f.placer&&j[f.placer]&&j[f.placer].call(this,g,c),d&&d.call(this,g,c)})})};a.fn.autotube=function(a){if(methods[a])return methods[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!=typeof a&&a)throw"Method "+a+" does not exist on jQuery.autotube";return methods.init.apply(this,arguments)},a.fn.getMetadata=l,a.fn.poster=m,a.autotube={videoId:i}});